{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-11-15 12:05:13.083622",
 "css": "/* Page setup */\n@page { size: A4; margin: 0; }\nhtml,body{height:100%;margin:0;padding:0;box-sizing:border-box}\nbody {\n  font-family: \"Arial\", Helvetica, sans-serif;\n  font-size: 11px;\n  color: #111;\n  -webkit-print-color-adjust: exact;\n  background: #fff;\n}\n\n/* Outer wrapper that mimics the scanned border */\n.po-page {\n  width: 190mm;\n  min-height: 297mm;\n  margin: 0 auto;\n  box-sizing: border-box;\n  /* Optional faint background of scanned reference \u2014 remove if not needed */\n  /* background-image: url('/mnt/data/Screenshot from 2025-11-25 11-17-26.png'); */\n  /* background-repeat: no-repeat; background-position: center top; background-size: cover; */\n}\n\n/* Thick outer visible border like the scan */\n.po-border {\n  border: 2px solid grey;\n  /*padding: 6px;*/\n  height: calc(100% - 12px);\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n}\n\n\n\n/* Header table: logo left, company center */\n.header-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-bottom: 6px;\n}\n.header-table td { vertical-align: top; }\n.header-table .logo {\n  width: 16%;\n}\n.header-table .logo img { width: 100px; height: auto; display:block; }\n.header-table .company {\n  width: 84%;\n  text-align: center;\n}\n.company .title {\n  font-size: 24px;\n  font-weight: 700;\n  letter-spacing: 0.6px;\n}\n.company .addr {\n  font-size: 10px;\n  line-height: 1.1;\n  margin-top: 3px;\n}\n\n/* Purchase Order title block */\n.po-title {\n  text-align: center;\n  font-size: 16px;\n  font-weight: 700;\n  margin: 6px 0;\n  border-top: 1px solid #111;\n  padding-top: 4px;\n}\n\n\n\n/* PO meta row */\n.po-meta {\n  width: 100%;\n  border-collapse: collapse;\n  margin-bottom: 10px;\n}\n.po-meta td {\n  border: 1px solid #000;\n  padding: 5px 8px;\n  font-size: 10px;\n  text-align: center;\n  border-left: none;\n}\n\n/* Two-column vendor/delivery */\n.two-col, .three-col {\n  width: 100%;\n  border-collapse: collapse;\n  margin-bottom: 6px;\n}\n\n.two-col th,\n.two-col td {\n    width: 50%;     /* both columns always equal */\n}\n\n\n.ref-doc {\n  font-size: 10px;\n  margin-bottom: 6px;\n}\n\n.two-col th, .two-col td,\n.three-col th, .three-col td {\n  border: 1px solid #000;\n  padding: 6px;\n  font-size: 10px;\n  vertical-align: top;\n}\n.two-col th, .three-col th {\n  background: #f5f5f5;\n  font-weight: 700;\n}\n\n/* Items table */\n.item-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-bottom: 6px;\n  table-layout: fixed;\n  font-size: 10px;\n}\n.item-table thead th {\n  border: 1px solid #000;\n  padding: 6px;\n  background: #f4f4f4;\n  text-align: center;\n  font-weight: 700;\n}\n.item-table tbody td {\n  border: 1px solid #000;\n  padding: 6px;\n  vertical-align: middle;\n  word-wrap: break-word;\n  text-align: left;\n}\n.item-table td.center { text-align: center; }\n.item-table td.right { text-align: right; }\n\n/* Annex line centered */\n.annex {\n  text-align: center;\n  margin: 6px 0;\n  font-size: 10px;\n}\n\n/* Big bottom block: left terms box + right totals box\n   We'll create two columns with a single thin surrounding border\n*/\n/* Container for both columns */\n.bottom-wrap {\n  display: flex;\n  border-top: 1px solid #000;\n  border-bottom: 1px solid #000;  /* full bottom border */\n  padding-bottom: 15px;\n  margin-bottom: 15px;           /* space before other T&C */\n}\n\n/* LEFT SECTION */\n.terms-box {\n  width: 60%;\n  padding: 10px;\n  border-right: 1px solid #000;  /* shared middle border */\n  font-size: 12px;\n  line-height: 1.4;\n}\n\n/* GST Notification \u2014 full width & aligned to GST row */\n.gst-note {\n  padding: 6px 0;\n  margin: 12px 0;\n  border-top: 1px solid #000;\n  border-bottom: 1px solid #000;\n  font-weight: bold;\n}\n\n/* Extra spacing before second set of terms */\n.terms-after-space {\n  margin-top: 12px;\n}\n\n/* RIGHT SECTION */\n.totals-box {\n  width: 40%;\n  padding: 10px;\n}\n\n.totals-box table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.totals-box td {\n  padding: 6px 0;\n}\n\n.right {\n  text-align: right;\n}\n\n/* GST row styling to match GST note */\n.gst-row td {\n  border-top: 1px solid #000;\n  border-bottom: 1px solid #000;\n  font-weight: bold;\n  padding: 6px 0;\n}\n\n.grand td {\n  font-weight: bold;\n  border-top: 1px solid #000;\n  padding-top: 6px;\n}\n\n\n\n/* Below that, the \"Other Terms and Conditions\" multi-row table and attached docs */\n.terms-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-bottom: 6px;\n  font-size: 10px;\n}\n.terms-table td, .terms-table th {\n  border: 1px solid #000;\n  padding: 6px;\n  vertical-align: top;\n}\n\n/* Attached docs rows */\n.attach-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-bottom: 6px;\n  font-size: 10px;\n}\n.attach-table td, .attach-table th {\n  border: 1px solid #000;\n  padding: 6px;\n}\n\n/* Signature area \u2014 two columns inside an outer bordered row */\n.sign-row {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 6px;\n  font-size: 10px;\n}\n.sign-row td {\n  border: 1px solid #000;\n  padding: 8px;\n  vertical-align: top;\n}\n.sign-left { width: 66%; }\n.sign-right { width: 34%; text-align:left; }\n\n/* signature line style inside sign-right */\n.sign-right .sig-line, .sign-left .sig-line {\n  width: 85%;\n  border-top: 1px solid #000;\n  margin-top: 18px;\n}\n\n/* small helper */\n.right { text-align: right; }\n.center { text-align: center; }\n\n/* print friendly fix */\n@media print {\n  .po-page { width: auto; }\n  .po-border { margin: 0; }\n}\n\n\n\n.bottom-table {\n  width: 90%;\n  border-collapse: collapse;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  border-bottom: 1px solid #000;\n  margin-right: 0;\n  margin-left: auto;\n}\n\n.bottom-table td {\n  vertical-align: top;\n  border: 1px solid #000;\n  /*padding: 8px;*/\n  font-size: 10px;\n  \n}\n\n.print-format td,\n.print-format th{\n    padding: 0 !important;\n}\n\n.left-col { width: 60%; }\n.right-col { width: 40%; }\n\n\n\n\n/* Inner totals table */\n.inner-tbl {\n  width: 100%;\n  border-collapse: collapse;\n  border: none;\n}\n\n/* General cell styling */\n.inner-tbl td {\n  padding: 4px 0;\n  border: none;\n  font-size: 12px;\n}\n\n/* Add bottom border for every row */\n.inner-tbl tr td {\n  border-bottom: 1px solid #000;\n}\n\n/* Remove bottom border from last row */\n.inner-tbl tr:last-child td {\n  border-bottom: none;\n}\n\n/* Continuous vertical border between the two columns */\n.inner-tbl td:first-child {\n  padding-right: 6px;\n}\n\n/* Right aligned numeric column */\n.inner-tbl td.right {\n  text-align: right;\n}\n\n/* GST + Grand Total bold */\n.gst-highlight td,\n.grand td {\n  font-weight: bold;\n}\n\n",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Purchase Order",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% set supplier_doc = frappe.get_doc(\"Supplier\", doc.supplier) %}\n\n\n{% if supplier_doc.supplier_primary_address %}\n    {% set addr = frappe.get_doc(\"Address\", supplier_doc.supplier_primary_address) %}\n{% endif %}\n\n{% if doc.shipping_address %}\n    {% set billing_addr = frappe.get_doc(\"Address\", doc.shipping_address) %}\n{% endif %}\n\n\n<!--{% set sq_list = [] %}-->\n<!--{% set attach_list = [] %}-->\n\n<!--{# Collect unique supplier quotations #}-->\n<!--{% for row in doc.items %}-->\n<!--    {% if row.supplier_quotation and row.supplier_quotation not in sq_list %}-->\n<!--        {% set _ = sq_list.append(row.supplier_quotation) %}-->\n<!--    {% endif %}-->\n<!--{% endfor %}-->\n\n<!--{# Collect attachments from each quotation \u2014 avoid duplicates by remark #}-->\n<!--{% for sq in sq_list %}-->\n<!--    {% set sq_doc = frappe.get_doc(\"Supplier Quotation\", sq) %}-->\n<!--    {% for att in sq_doc.custom_addendum %}-->\n<!--        {% if att.remark and att.remark not in attach_list %}-->\n<!--            {% set _ = attach_list.append(att.remark) %}-->\n<!--        {% endif %}-->\n<!--    {% endfor %}-->\n<!--{% endfor %}-->\n\n\n    {% set sq_list = [] %}\n    {% set rfq_list = [] %}\n    {% set attach_list = [] %}\n    \n    {# 1\ufe0f\u20e3 Collect unique Supplier Quotations from PO Items #}\n    {% for row in doc.items %}\n        {% if row.supplier_quotation and row.supplier_quotation not in sq_list %}\n            {% set _ = sq_list.append(row.supplier_quotation) %}\n        {% endif %}\n    {% endfor %}\n    \n    {# 2\ufe0f\u20e3 Process each unique Supplier Quotation once #}\n    {% for sq in sq_list %}\n        {% set sq_doc = frappe.get_doc(\"Supplier Quotation\", sq) %}\n    \n        {# 2A\ufe0f\u20e3 Add Supplier Quotation Addendum attachments once #}\n        {% for att in sq_doc.custom_addendum %}\n            {% if att.attachment_type and att.attachment_type not in attach_list %}\n                {% set _ = attach_list.append(att.attachment_type) %}\n            {% endif %}\n        {% endfor %}\n    \n        {# 2B\ufe0f\u20e3 Process RFQ items only once per unique RFQ #}\n        {% for item_row in sq_doc.items %}\n            \n            {% if item_row.request_for_quotation %}\n                {% if item_row.request_for_quotation not in rfq_list %}\n                    {% set _ = rfq_list.append(item_row.request_for_quotation) %}\n                {% endif %}\n            {% endif %}\n    \n            {% set rfq_doc = frappe.get_doc(\"Request for Quotation\", item_row.request_for_quotation) %}\n            {# RFQ attachments inside SQ item #}\n            {% for att in rfq_doc.custom_addendum %}\n                {% if att.attachment_type and att.attachment_type not in attach_list %}\n                    {% set _ = attach_list.append(att.attachment_type) %}\n                {% endif %}\n            {% endfor %}\n    \n        {% endfor %}\n    {% endfor %}\n\n\n\n{# Get Company Doc #}\n{% set company_doc = frappe.get_doc(\"Company\", doc.company) %}\n\n{# Get company address via dynamic link #}\n\n\n{% set company_address_list = frappe.get_all(\n    \"Dynamic Link\",\n    filters={\n        \"link_doctype\": \"Company\",\n        \"link_name\": doc.company\n    },\n    fields=[\"parent\"],\n    limit=1\n) %}\n\n{# Load primary address #}\n{% if company_address_list %}\n    {% set company_addr = frappe.get_doc(\"Address\", company_address_list[0].parent) %}\n{% endif %}\n\n\n\n\n<!doctype html>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>Purchase Order - Reva</title>\n\n</head>\n<body>\n\n<div class=\"po-page\">\n  <div class=\"po-border\">\n    <!--<div class=\"po-inner\">-->\n\n      <!-- Header -->\n      <table class=\"header-table\">\n        <tr>\n          <td class=\"logo\">\n            <!-- replace with your logo path if different -->\n            <img src=\"/files/RPT Logo R V3.png\" alt=\"logo\" style=\"height: 100;\">\n          </td>\n          <td class=\"company\">\n            <div class=\"company\"><br>\n              <div class=\"title\">REVA PROCESS TECHNOLOGIES</div> <br>\n              \n              {% if company_addr %}\n                  <div class=\"addr\">{{company_addr.address_line1 or \"\"}},\n                  {{company_addr.address_line2 or \"\"}}<br>\n                  \n                  {{company_addr.city or \"\"}} - {{company_addr.pincode}}\n                    Tel: {{company_doc.phone_no or \"\"}} <br>| Website: {{company_doc.website or \"\"}} | \n                    GST NO. {{company_doc.gstin or \"\" }}<br>\n                  </div>\n              {% endif %}\n            </div>\n          </td>\n        </tr>\n      </table>\n\n      <!-- Purchase Order Title -->\n      <div class=\"po-title\">Purchase Order</div>\n\n      <!-- PO Meta -->\n      <table class=\"po-meta\">\n        <tr>\n          <td><strong>PURCHASE ORDER NUMBER :</strong> {{doc.name}}</td>\n          <td class=\"right\"><strong>Date :</strong> {{doc.transaction_date}}</td>\n        </tr>\n      </table>\n\n      <!-- Vendor / Delivery -->\n      <table class=\"two-col\">\n        <tr>\n          <th>Vendor</th>\n          <th>Delivery Address</th>\n        </tr>\n        <tr>\n          <td>\n            <strong>{{ supplier_doc.supplier_name}}</strong><br>\n            {{addr.address_line1 or \"\"}},<br>\n            {{addr.address_line2 or \"\"}}, {{addr.city}} - {{addr.pincode or \"\"}}<br><br>\n            GST No: {{addr.gstin or \"\"}}<br>\n            Tel: {{supplier_doc.mobile_no or \"\"}}<br>\n            Contact Person: {{supplier_doc.supplier_name or \"\"}}<br>\n            Email: {{addr.email_id or \"\"}}\n          </td>\n          {% if billing_addr %}\n              <td>\n                <strong>{{ billing_addr.address_title or \"\"}}</strong><br>\n                {{billing_addr.address_line1 or \"\"}},<br>\n                {{billing_addr.address_line2 or \"\"}}, {{billing_addr.city or \"\"}} - {{billing_addr.pincode or \"\"}}<br>\n                GST No: {{billing_addr.gstin or \"\"}}<br>\n                Tel: {{billing_addr.phone or \"\"}}<br>\n                Contact Person: {{billing_addr.supplier_name or \"\"}}<br>\n                Email: {{billing_addr.email_id or \"\"}}\n              </td>\n          {% else %}\n          <td></td>\n          {% endif %}\n        </tr>\n      </table>\n      \n      <div class=\"ref-doc\">\n        <strong>Ref:</strong> <strong>Request for Quotation:</strong> {{ rfq_list | unique | join(', ') }} <br>\n        <strong>Supplier Quotaion: </strong>{{ sq_list | unique | join(', ') }}  <br>\n        \n        {% set pro_obj = \"\" %}\n        {% if doc.project %}\n            {% set pro_obj = frappe.get_doc(\"Project\", doc.project) %}\n        {% endif %}\n        <strong>Project Name: </strong>{{pro_obj.project_name or  \"\"}}\n      </div>\n     \n\n      <!-- Payment & Dispatch -->\n        <table class=\"three-col\">\n            <tr>\n              <th>Consigner Rep Details</th>\n              <th> Payment Terms and Conditions </th>\n              <th>Delivary Terms</th>\n            </tr>\n            <tr>\n              <td>Contact Person: {{supplier_doc.supplier_name}}<br>Contact no.: {{supplier_doc.mobile_no}}<br>\n              Email: {{supplier_doc.email_id}}\n                <br>\n              </td>\n                  <td>\n                  {% if doc.payment_schedule %}\n                    {% for row in doc.payment_schedule %}\n                     {% if row.payment_term %}\n                      \u2022 {{ row.payment_term or \"\"}}<br>\n                      {% endif %}\n                    {% endfor %}\n                  {% else %}\n                    No Payment Terms Found\n                  {% endif %}\n                </td>\n              {% set delivery_terms_clean = doc.custom_delivery_terms if doc.custom_delivery_terms else \"\" %}\n\n            <td>\n                {% if delivery_terms_clean %}\n                    {{ doc.custom_delivery_terms | safe }}\n                {% else %}\n                    <!-- blank -->\n                {% endif %}\n            </td>\n\n            </tr>\n        </table>\n      <!-- Items -->\n        <table class=\"item-table\">\n            <thead>\n                <tr>\n                    <th style=\"width:6%\">Sr.No.</th>\n                    <th style=\"width:6%\">Qty</th>\n                    <th style=\"width:10%\">Item</th>\n                    <th style=\"width:30%;\">Description</th>\n                    <th style=\"width:9%\">Model</th>\n                    <th style=\"width:10%\">TAG NO.</th>\n                    <th style=\"width:10%\">Price per unit</th>\n                    <th style=\"width:11%\">Discounted Prize.</th>\n                    <th style=\"width:10%\">Price Total(INR)</th>\n                </tr>\n            </thead>\n        \n        <tbody>\n            {% for row in doc.items %}\n\n                {# Initialize variables per row #}\n                {% set model_list = [] %}\n                {% set tag_list = [] %}\n                {% set item_code_display = row.item_code %}\n            \n                {% if row.supplier_quotation %}\n                    {% set sq_doc = frappe.get_doc(\"Supplier Quotation\", row.supplier_quotation) %}\n            \n                    {# Find the matching child row in Supplier Quotation #}\n                     {# Find the matching child row in SQ items #}\n                    {% for sq_row in sq_doc.items %}\n                        {% if sq_row.item_code | trim == row.item_code | trim %}\n                            {% set _ = model_list.append(sq_row.custom_model) %}\n                            {% set _ = tag_list.append(sq_row.custom_tag_no) %}\n                        {% endif %}\n                    {% endfor %}\n                {% endif %}\n            \n                <tr>\n                    <td class=\"center\">{{ loop.index }}</td>\n                    <td class=\"center\">{{ row.qty }}</td>\n                    <td>{{ row.item_name }} {{ row.item_code }}</td>\n                    <td>{{ row.description }}</td>\n            \n                    {# Supplier Quotation info #}\n                    <td class=\"center\">{{model_list[0]}}</td>\n                    <td class=\"center\">{{tag_list[0]}}</td>\n\n                    <td class=\"right\">{{ row.rate }}</td>\n                    <td class=\"center\">{{ row.discount_amount or \"\" }}</td>\n                    <td class=\"right\">{{ row.amount }}</td>\n                </tr>\n            \n            {% endfor %}\n\n        </tbody>\n    </table>\n\n\n\n      <div class=\"annex\">Refer Attached Technical Annexure for more details</div>\n        <!-- ROW 1 -->\n\n\n        <table class=\"bottom-table\">\n          <!-- ROW 1 -->\n          <tr>\n            <td class=\"left-col\">\n              <strong>\n                This PO is only valid for confirmation after receipt of a warranty certificate stipulating \n                its validity for their equipment or systems to be used in RPT Project sites.\n              </strong>\n            </td>\n        \n            <td class=\"right-col\">\n              <table class=\"inner-tbl\">\n                <tr><td>Basic</td><td class=\"right\">{{doc.grand_total}}</td></tr>\n                <tr><td>Packing</td><td class=\"right\">Included</td></tr>\n                <tr><td>Sub Total</td><td class=\"right\">{{doc.grand_total}}</td></tr>\n              \n\n              {% set ns = namespace(total_tax_rate=0, last_rate=0) %}\n                \n                {% for t in doc.taxes %}\n                    {% set ns.total_tax_rate = ns.total_tax_rate + t.rate %}\n                {% endfor %}\n                \n                <tr class=\"gst-highlight\">\n                    <td>GST: {{ ns.total_tax_rate }} %</td>\n                    <td class=\"right\">{{ doc.total_taxes_and_charges }}</td>\n                </tr>\n\n              </table>\n            </td>\n          </tr>\n        \n          <!-- ROW 2 -->\n          <tr>\n            <td class=\"left-col\">\n              The supplier must confirm payment terms and estimated delivery date before processing this order.\n              Payment will not be made without receipt of an invoice. Please use our PO number as a reference on\n              all correspondence and the invoice relating to this order.***\n            </td>\n        \n            <td class=\"right-col\">\n              <table class=\"inner-tbl\">\n                <tr class=\"grand\"><td>Total</td><td class=\"right\">{{doc.grand_total}}</td></tr>\n                <tr><td>Round off</td><td class=\"right\">0</td></tr>\n                <tr class=\"grand\"><td>Grand Total</td><td class=\"right\">{{doc.grand_total}}</td></tr>\n              </table>\n            </td>\n          </tr>\n        </table>\n\n\n      \n\n        <!-- Attached Documents -->\n        <table class=\"terms-table\" style=\"width:100%; border-collapse:collapse; border:1px solid #000; margin-top:10px;\">\n            <tr>\n                <td style=\"font-weight:bold; border:1px solid #000; padding:8px;\" colspan=\"2\">\n                    Attached Documents<br>\n                </td>\n            </tr>\n        \n            {% for remark in attach_list %}\n            <tr>\n                <td style=\"width:8%; border:1px solid #000; padding:8px; text-align:center;\">\n                    {{ loop.index }}\n                </td>\n                <td style=\"width:92%; border:1px solid #000; padding:8px;\">\n                    {{ remark }}\n                </td>\n            </tr>\n            {% endfor %}\n        </table>\n\n          \n          \n      <!-- Signature row -->\n      <table class=\"sign-row\">\n        <tr>\n          <td class=\"sign-left\">\n            <strong>Reva Process Technologies : Authorised Signature</strong><br><br>\n            Signature:\n            <div class=\"sig-line\"></div>\n            <div style=\"margin-top:6px\">Name: {{doc.custom_approved_by or \"\"}}</div>\n          </td>\n          <td class=\"sign-right\">\n            <strong>Vendor : {{ supplier_doc.supplier_name}}</strong><br><br>\n            Signature:\n            <div class=\"sig-line\"></div>\n            <div style=\"margin-top:8px\">Authorised Signatory</div>\n          </td>\n        </tr>\n      </table>\n    <!--</div><!-- /.po-inner -->\n  </div><!-- /.po-border -->\n</div><!-- /.po-page -->\n</body>\n</html>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-12-09 18:21:38.665514",
 "modified_by": "Administrator",
 "module": "Reva Erp Next",
 "name": "Purchase Order Form Format",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}